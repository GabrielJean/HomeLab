[defaults]
# Run more hosts in parallel (tune based on your network/hosts capacity)
forks = 20
# Keep default strategy in playbooks; set here as a fallback
strategy = free
# Avoid gathering facts unless explicitly requested in plays
gathering = explicit
# Show task timings (useful to spot bottlenecks)
callbacks_enabled = profile_tasks
# Increase default timeout a bit for slower hosts
timeout = 60

[persistent_connection]
connect_timeout = 60
command_timeout = 120

[ssh_connection]
# Reduce SSH round trips
pipelining = True
# Reuse SSH connections during a run
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no
control_path = %(directory)s/ansible-ssh-%%h-%%p-%%r
retries = 3

